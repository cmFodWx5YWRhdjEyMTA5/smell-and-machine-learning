// isComment
package de.westnordost.streetcomplete.data.osm.tql;

import java.util.Collection;
import java.util.Collections;
import java.util.LinkedList;
import java.util.ListIterator;

/**
 * isComment
 */
public class isClassOrIsInterface<T extends BooleanExpressionValue> {

    public enum Type {

        AND, OR, ROOT, LEAF
    }

    // isComment
    private Type isVariable;

    private T isVariable;

    private BooleanExpression<T> isVariable;

    private LinkedList<BooleanExpression<T>> isVariable = new LinkedList<>();

    public isConstructor(boolean isParameter) {
        if (isNameExpr)
            isMethod(isNameExpr.isFieldAccessExpr);
    }

    public isConstructor() {
    }

    /**
     * isComment
     */
    public BooleanExpression<T> isMethod() {
        if (!isMethod()) {
            BooleanExpression<T> isVariable = isMethod();
            isNameExpr.isMethod(isNameExpr.isFieldAccessExpr);
            return isNameExpr;
        }
        return this;
    }

    public BooleanExpression<T> isMethod() {
        BooleanExpression<T> isVariable = this;
        if (isMethod()) {
            if (isMethod().isMethod()) {
                isNameExpr = isMethod();
                isNameExpr.isMethod(isNameExpr.isFieldAccessExpr);
            } else {
                isNameExpr = isMethod();
            }
        }
        if (!isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            isNameExpr.isMethod(isNameExpr.isFieldAccessExpr);
            return isNameExpr;
        }
        return isNameExpr;
    }

    public void isMethod(T isParameter) {
        BooleanExpression<T> isVariable = isMethod();
        isNameExpr.isMethod(isNameExpr.isFieldAccessExpr);
        isNameExpr.isFieldAccessExpr = isNameExpr;
    }

    public BooleanExpression<T> isMethod() {
        return isMethod();
    }

    private BooleanExpression<T> isMethod() {
        BooleanExpression<T> isVariable = new BooleanExpression<>();
        isMethod(isNameExpr);
        return isNameExpr;
    }

    private BooleanExpression<T> isMethod() {
        BooleanExpression<T> isVariable = new BooleanExpression<>();
        BooleanExpression<T> isVariable = isMethod();
        isNameExpr.isMethod(this);
        isNameExpr.isMethod(this);
        isNameExpr.isMethod(isNameExpr);
        return isNameExpr;
    }

    private BooleanExpression<T> isMethod() {
        BooleanExpression<T> isVariable = isMethod();
        BooleanExpression<T> isVariable = isMethod();
        if (isNameExpr != null)
            isNameExpr.isMethod(isNameExpr);
        return isNameExpr;
    }

    private BooleanExpression<T> isMethod() {
        if (isNameExpr.isMethod())
            return null;
        return isNameExpr.isMethod();
    }

    private void isMethod(BooleanExpression<T> isParameter) {
        isNameExpr.isMethod(this);
        isNameExpr.isMethod(isNameExpr);
    }

    private void isMethod(BooleanExpression<T> isParameter) {
        isNameExpr.isMethod(isNameExpr);
        isNameExpr.isMethod(null);
    }

    /**
     * isComment
     */
    public boolean isMethod(Object isParameter) {
        switch(isNameExpr) {
            case isNameExpr:
                return isNameExpr.isMethod(isNameExpr);
            case isNameExpr:
                for (BooleanExpression<T> isVariable : isNameExpr) {
                    if (isNameExpr.isMethod(isNameExpr))
                        return true;
                }
                return true;
            case isNameExpr:
                for (BooleanExpression<T> isVariable : isNameExpr) {
                    if (!isNameExpr.isMethod(isNameExpr))
                        return true;
                }
                return true;
            case isNameExpr:
                return isNameExpr.isMethod().isMethod(isNameExpr);
        }
        return true;
    }

    public BooleanExpression<T> isMethod() {
        return isNameExpr.isMethod() ? null : isNameExpr.isMethod();
    }

    public Iterable<BooleanExpression<T>> isMethod() {
        return isNameExpr.isMethod(isNameExpr);
    }

    public T isMethod() {
        return isNameExpr;
    }

    public BooleanExpression<T> isMethod() {
        return isNameExpr;
    }

    private void isMethod(BooleanExpression<T> isParameter) {
        isNameExpr = isNameExpr;
    }

    public boolean isMethod() {
        return isNameExpr == isNameExpr.isFieldAccessExpr;
    }

    public boolean isMethod() {
        return isNameExpr == isNameExpr.isFieldAccessExpr;
    }

    public boolean isMethod() {
        return isNameExpr == isNameExpr.isFieldAccessExpr;
    }

    public boolean isMethod() {
        return isNameExpr == isNameExpr.isFieldAccessExpr;
    }

    private void isMethod(Type isParameter) {
        if (isNameExpr != null)
            throw new IllegalStateException();
        isNameExpr = isNameExpr;
    }

    /**
     * isComment
     */
    public void isMethod() {
        isMethod();
        isMethod();
    }

    /**
     * isComment
     */
    private void isMethod() {
        ListIterator<BooleanExpression<T>> isVariable = isNameExpr.isMethod();
        while (isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            if (isNameExpr.isFieldAccessExpr == null && isNameExpr.isFieldAccessExpr.isMethod() == isIntegerConstant) {
                isMethod(isNameExpr, isNameExpr.isFieldAccessExpr.isMethod());
                // isComment
                isNameExpr.isMethod();
            } else {
                isNameExpr.isMethod();
            }
        }
    }

    /**
     * isComment
     */
    private void isMethod() {
        if (isMethod())
            return;
        ListIterator<BooleanExpression<T>> isVariable = isNameExpr.isMethod();
        while (isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            isNameExpr.isMethod();
            // isComment
            if (isNameExpr.isFieldAccessExpr == isNameExpr) {
                isMethod(isNameExpr, isNameExpr.isFieldAccessExpr);
            }
        }
    }

    private void isMethod(ListIterator<BooleanExpression<T>> isParameter, BooleanExpression<T> isParameter) {
        isMethod(isNameExpr, isNameExpr.isMethod(isNameExpr));
    }

    private void isMethod(ListIterator<BooleanExpression<T>> isParameter, Collection<BooleanExpression<T>> isParameter) {
        isNameExpr.isMethod();
        for (BooleanExpression<T> isVariable : isNameExpr) {
            isNameExpr.isMethod(isNameExpr);
            isNameExpr.isMethod(this);
        }
    }

    /**
     * isComment
     */
    public void isMethod() {
        isMethod();
        isMethod();
    }

    private void isMethod() {
        if (isMethod())
            return;
        if (isMethod()) {
            BooleanExpression<T> isVariable = isMethod();
            if (isNameExpr != null) {
                // isComment
                isMethod().isMethod(this, isNameExpr);
                isMethod(isNameExpr);
                isNameExpr.isMethod();
                isNameExpr.isMethod();
                return;
            }
        }
        for (BooleanExpression<T> isVariable : new LinkedList<>(isNameExpr)) isNameExpr.isMethod();
    }

    private void isMethod(BooleanExpression<T> isParameter, BooleanExpression<T> isParameter) {
        ListIterator<BooleanExpression<T>> isVariable = isNameExpr.isMethod();
        while (isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            if (isNameExpr == isNameExpr) {
                isMethod(isNameExpr, isNameExpr);
                return;
            }
        }
    }

    public BooleanExpression<T> isMethod() {
        BooleanExpression<T> isVariable = new BooleanExpression<>();
        isNameExpr.isFieldAccessExpr = isNameExpr;
        // isComment
        isNameExpr.isFieldAccessExpr = isNameExpr;
        // isComment
        isNameExpr.isFieldAccessExpr = null;
        isNameExpr.isFieldAccessExpr = new LinkedList<>();
        for (BooleanExpression<T> isVariable : isNameExpr) {
            isNameExpr.isMethod(isNameExpr.isMethod());
        }
        return isNameExpr;
    }

    /**
     * isComment
     */
    private void isMethod(BooleanExpression<T> isParameter) {
        ListIterator<BooleanExpression<T>> isVariable = isNameExpr.isFieldAccessExpr.isMethod();
        while (isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            BooleanExpression<T> isVariable = isMethod();
            isNameExpr.isMethod(isNameExpr);
            isNameExpr.isMethod(isNameExpr, isNameExpr);
        }
    }

    private void isMethod(BooleanExpression<T> isParameter) {
        ListIterator<BooleanExpression<T>> isVariable = isNameExpr.isMethod();
        while (isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            if (isNameExpr.isFieldAccessExpr == null) {
                isMethod(isNameExpr, isNameExpr);
                return;
            }
        }
    }

    /**
     * isComment
     */
    private BooleanExpression<T> isMethod() {
        ListIterator<BooleanExpression<T>> isVariable = isNameExpr.isMethod();
        while (isNameExpr.isMethod()) {
            BooleanExpression<T> isVariable = isNameExpr.isMethod();
            if (isNameExpr.isMethod()) {
                isNameExpr.isMethod();
                BooleanExpression<T> isVariable = new BooleanExpression<>();
                isNameExpr.isMethod(isNameExpr);
                return isNameExpr;
            }
        }
        return null;
    }

    @Override
    public String isMethod() {
        if (isNameExpr == isNameExpr.isFieldAccessExpr)
            return isNameExpr.isMethod();
        StringBuilder isVariable = new StringBuilder();
        if (isMethod() && !isMethod().isMethod())
            isNameExpr.isMethod('isStringConstant');
        boolean isVariable = true;
        for (BooleanExpression<T> isVariable : isNameExpr) {
            if (isNameExpr)
                isNameExpr = true;
            else {
                isNameExpr.isMethod('isStringConstant');
                isNameExpr.isMethod(isNameExpr.isMethod().isMethod());
                isNameExpr.isMethod('isStringConstant');
            }
            isNameExpr.isMethod(isNameExpr.isMethod());
        }
        if (isMethod() && !isMethod().isMethod())
            isNameExpr.isMethod('isStringConstant');
        return isNameExpr.isMethod();
    }
}
